#+HTML_HEAD_EXTRA: <script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: {extensions: ["enclose.js"]}})</script>
#+title: Return to the planet of the Javascript Primes

I finally broke down and decided to do the sensible thing: implement
Eratosthenes' Seive in Javascript.

* Eratosthenes of Cyrene

#+caption: Eratosthenes
[[file:return-to-javascript-primes/Eratosthenes.jpg]]

Eratosthenes was an over-achieving Greek polymath. Born in Cyrene in
Greek north Africa around 276BC, he, among other things, invented
geography, accurately measured the circumference of the Earth and gave
us the leap year. He also came up with his eponymous seive: a quick
way of finding prime numbers.

** Seive it

The seive works by removing composite (non-prime) numbers from the set
of the natural numbers by /seiving/ out the multiples of each prime,
one prime at a time.

Lets start with the numbers from two to twenty:

\[\{2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20\}\]

Two is a prime, so we remove any numbers greater than two that have
two as a divisor:

\[\{2, 3, \enclose{horizontalstrike}{4}, 5, \enclose{horizontalstrike}{6}, 7, \enclose{horizontalstrike}{8}, 9, \enclose{horizontalstrike}{10}, 11, \enclose{horizontalstrike}{12}, 13, \enclose{horizontalstrike}{14}, 15, \enclose{horizontalstrike}{16}, 17, \enclose{horizontalstrike}{18}, 19, \enclose{horizontalstrike}{20}\}\]

The next number that's not already been seived out, three, must be a
prime, so we repeat the procedure for two and remove any multiples:

\[\{2, 3, 5, 7, \enclose{horizontalstrike}{9}, 11, 13, \enclose{horizontalstrike}{15}, 17, 19\}\]

Six, being divisble by two, is already removed, as are twelve and
eighteen, so the only numbers we remove this time are nine and
fifteen.

Five is the next number still in the list, but we don't have any
numbers left that are divisble by it. In fact, because \(5^2\) is
greater than our biggest number, twenty, we know that we can stop
looking for primes. If our numbers continued up further we would
remove twenty-five, thirty-five, and so on, then move onto multiples
of seven. As it stands, our list is now:

\[\{2, 3, 5, 7, 11, 13, 17, 19\}\]

or, all the prime numbers under twenty-one.
