#+TITLE:
* Articles
  - [[file:for-the-want-of-a-slash.org][For the want of a slash]]
  - [[file:javascript-primes.org][Javascript primes]]
  - [[file:gaussian-prime-spirals.org][Gaussian prime spirals]]

* To Do                                                            :noexport:
** TODO Make css responsive
** TODO write CV
* export                                                           :noexport:
#+begin_src emacs-lisp :noweb yes :results output silent
  (setq org-publish-project-alist
        '(("idiocy.org"
           :components ("blog-content" "blog-static"))
          ("blog-content"
           :base-directory "."
           :base-extension "org"
           :publishing-directory "/ssh:alan@idiocy.org:/web/idiocy.org/htdocs/"
           ;;:publishing-directory "./build"
           :recursive t
           :exclude "build"
           :publishing-function (org-html-publish-to-html)

           :with-tags nil
           :headline-levels 4             ; Just the default for this project.
           :with-toc nil
           :section-numbers nil
           :with-sub-superscript nil
           :with-todo-keywords nil
           :html-doctype "html5"
           :html-html5-fancy t
           :html-head-include-scripts nil
           :html-head-include-default-style nil
           
           ;; noweb codes have funny rules about prefixes
           :html-preamble "\
                           <<header>>"
           :html-postamble "\
                            <<footer>>"
           :html-head "\
                       <<head>>"
           :exclude-tags ("noexport" "todo"))
          ("blog-static"
           :base-directory "."
           :base-extension "css\\|js\\|png\\|jpg\\|gif\\|svg\\|pdf\\|mp3\\|ogg"
           :publishing-directory "/ssh:alan@idiocy.org:/web/idiocy.org/htdocs/"
           ;;:publishing-directory "./build"
           :recursive t
           :exclude "build"
           :publishing-function org-publish-attachment)))

  (setf org-html-mathjax-template "\
                                   <<mathjax>>")

  (org-publish-current-project)
#+end_src

#+NAME: header
#+BEGIN_SRC web :exports none
  <a href='/'>
    <img src='common/logo.svg' alt='idiocy.org'>
  </a>
#+END_SRC
  
#+NAME: footer
#+BEGIN_SRC web :exports none
  <table>
      <tr>
          <th>t</th>
          <td><a href='https://twitter.com/flxzr'>@flxzr</a></td>
      </tr>
      <tr>
          <th>g</th>
          <td><a href='https://github.com/alanthird'>alanthird</a></td>
      </tr>
      <tr>
          <th>e</th>
          <td><a href='mailto:alan@idiocy.org'>Alan Third</a></td>
      </tr>
  </table>
#+END_SRC

#+NAME: mathjax
#+BEGIN_SRC web :exports none
  <script type='text/x-mathjax-config'>
    MathJax.Hub.Config({
      'SVG': {
        font: 'Latin-Modern'
      }
    });
  </script>
  <script type='text/javascript'
          src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG-full'></script>
#+END_SRC

#+NAME: head
#+BEGIN_SRC web :exports none
  <link rel='stylesheet' type='text/css' href='common/idiocy.css'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
#+END_SRC
